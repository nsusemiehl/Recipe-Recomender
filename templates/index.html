<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>RENDER</title>
  
  <script type="text/javascript" src="static/js/jquery-3.6.0.min.js"></script>
  <script type="text/javascript" src="static/js/chosen.jquery.min.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>


  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

<!--CSS Link---------------------------------->
  <link rel="stylesheet" href="static/css/header.css">
  <link rel="stylesheet" href="static/css/container.css">
  <link rel="stylesheet" href="static/css/chosen.min.css">
  <link rel="stylesheet" href="static/css/sliders.css">
  <link rel="stylesheet" href="static/css/jquery-ui.css">
<!-------------------------------------------->
</head>
<!--COLOR PALETTE------------------------------
https://coolors.co/054a91-3e7cb1-81a4cd-dbe4ee-f17300
---------------------------------------------->
<body>
<!--HEADER------------------------------------>
<div class="header">
  <span class="slogan">Recipes made simple.</span>
  <a href="#default" class="logo">RENDER</a>

  <div id="header-right" class="header-right">
    <span style="color: white; font-size: 10pt"><i>Primary Filter:</i></span>
    <select style="margin-top: 15px; margin-right: 50px; width: 200px">
    	<option value="ingredientFilter">Ingredient List</option>
    	<option value="nutritionFilter">Nutrition Targets</option>
    </select>
  </div>

</div>
<!-------------------------------------------->

<div id="page" class="float-container">
<!--LEFT-SIDE MENU---------------------------->
  <div id="container-left" class="container">

  	<form action="{{ url_for('ingredient_input') }}" method="post" id="ingredientInputForm" enctype="multipart/form-data">

  	<h4>INGREDIENT LIST</h4>
	<select id="mselect" name="ingredient_input_text" data-placeholder="Begin typing an ingredient..." multiple class="chosen-select" style="width: 384px"></select>

	<h4>CANNOT HAVE</h4>
	<select id="mselect2" name="exclusions_input_text" data-placeholder="Begin typing an ingredient..." multiple class="chosen-select" style="width: 450px"></select>

	<h4>TIME CONSTRAINT</h4>
	<!-- <label for="time"> Input time (min.) </label> -->
	<input name="time_input_text" type="text" placeholder="Type time (mins.)">

	<!--INGREDIENT LIST FOR SEARCH BAR------------>
	<script type="text/javascript">
	function insertIngredientInList(data) {
	  var list = $('.chosen-select');
	  var newOption = 
	      $('<option></option>')
	      .attr('value', data.ingredient)
	      .text(data.ingredient);

	  list.append(newOption);

	}

	var CSV_PATH = './static/data/test.csv';


	$.get(CSV_PATH, function (data) {
	  var lines = data.split("\n");

	  lines.shift();

	  var ingredients = lines.map(function (line) {
	    var fields = line.split(",");
	    return {
	      count: fields[1], 
	      ingredient: fields[0]
	    };
	  });
	  
	  ingredients.forEach(insertIngredientInList);

	});

	$(document).ready(function() {
	  $(".chosen-select").chosen();
	});

	</script>
	<!-------------------------------------------->

	<!-------------------------------------------->

	<div class="slidecontainer">

    <h4>TARGETS</h4>
		
	  <!--Calories Range Slider--------------------->
      <script>
	  $( function() {
	    $( "#calories-range" ).slider({
	      range: true,
	      min: 0,
	      max: 2000,
	      values: [ 0, 2000 ],
	      slide: function( event, ui ) {
	        $( "#calories" ).val( ui.values[ 0 ] + " - " + ui.values[ 1 ] );
	      }
	    });
	    $( "#calories" ).val( $( "#calories-range" ).slider( "values", 0 ) +
	      " - " + $( "#calories-range" ).slider( "values", 1 ) );
	  } );
	  </script>

	  <label for="calories">Calories:</label>
	  <input name="calories" type="text" id="calories" readonly style="border: 0; color: #F17300; font-weight:bold; background-color: #DBE4EE">
	  <div id="calories-range"></div>
	  <!-------------------------------------------->

	  <!--Carbohydrates Range Slider---------------->
      <script>
	  $( function() {
	    $( "#carbohydrates-range" ).slider({
	      range: true,
	      min: 0,
	      max: 275,
	      values: [ 0, 275 ],
	      slide: function( event, ui ) {
	        $( "#carbohydrates" ).val( ui.values[ 0 ] + " - " + ui.values[ 1 ] );
	      }
	    });
	    $( "#carbohydrates" ).val( $( "#carbohydrates-range" ).slider( "values", 0 ) +
	      " - " + $( "#carbohydrates-range" ).slider( "values", 1 ) );
	  } );
	  </script>
	  <br>
	  <label for="carbohydrates">Carbohydrates (mg):</label>
	  <input name="carbs" type="text" id="carbohydrates" readonly style="border: 0; color: #F17300; font-weight:bold; background-color: #DBE4EE">
	  <div id="carbohydrates-range"></div>
	  <!-------------------------------------------->

	  <!--Protein Range Slider---------------->
      <script>
	  $( function() {
	    $( "#protein-range" ).slider({
	      range: true,
	      min: 0,
	      max: 100,
	      values: [ 0, 100 ],
	      slide: function( event, ui ) {
	        $( "#protein" ).val( ui.values[ 0 ] + " - " + ui.values[ 1 ] );
	      }
	    });
	    $( "#protein" ).val( $( "#protein-range" ).slider( "values", 0 ) +
	      " - " + $( "#protein-range" ).slider( "values", 1 ) );
	  } );
	  </script>
	  <br>
	  <label for="protein">Protein (g):</label>
	  <input name="protein" type="text" id="protein" readonly style="border: 0; color: #F17300; font-weight:bold; background-color: #DBE4EE">
	  <div id="protein-range"></div>
	  <!-------------------------------------------->

	  <!--Sodium Range Slider---------------->
      <script>
	  $( function() {
	    $( "#sodium-range" ).slider({
	      range: true,
	      min: 0,
	      max: 2300,
	      values: [ 0, 2300 ],
	      slide: function( event, ui ) {
	        $( "#sodium" ).val( ui.values[ 0 ] + " - " + ui.values[ 1 ] );
	      }
	    });
	    $( "#sodium" ).val( $( "#sodium-range" ).slider( "values", 0 ) +
	      " - " + $( "#sodium-range" ).slider( "values", 1 ) );
	  } );
	  </script>
	  <br>
	  <label for="sodium">Sodium (mg):</label>
	  <input name="sodium" type="text" id="sodium" readonly style="border: 0; color: #F17300; font-weight:bold; background-color: #DBE4EE">
	  <div id="sodium-range"></div>
	  <!-------------------------------------------->
    </div>

	<input id="ingredientInput" type="submit" class='new-button-data' value="Submit">
	<input type="reset" value="Reset"> <!--Clears all selected ingredients.-->
	</form>

  </div>
<!-------------------------------------------->   



<!--DISPLAY AREA------------------------------>
  <div id="container-right" class="container-fluid">  {% if recipe %}
    <h1>Your recipe: {{ recipe }}</h1>
  {% else %}
    <h1>Insert Ingredients Below</h1>
  {% endif %}
  </div>
<!-------------------------------------------->
</div>


</body>
</html>